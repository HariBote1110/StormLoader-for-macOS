<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>StormLoader for macOS</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div id="loading-overlay"><p id="loading-message"></p></div>
    <div class="main-container">
        <div class="sidebar">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h2 data-lang="INSTALLED_MODS">Installed Mods</h2>
                <span id="pending-indicator" style="display: none; color: var(--primary-color);" data-lang="CHANGES_PENDING">Changes pending</span>
            </div>
            <div id="mod-list-container">
                <ul id="mod-list"></ul>
            </div>
            <button id="apply-changes-btn" class="primary" data-lang="APPLY_CHANGES" style="margin-top: 15px; display: none;">Apply Changes</button>
        </div>
        <div class="main-content">
            <h1 data-lang="APP_TITLE">StormLoader for macOS</h1>
            <div class="card">
                <h2 data-lang="SETTINGS">Settings</h2>
                <button id="set-game-dir-btn" data-lang="SET_GAME_DIR">Select Stormworks.app</button>
                <button id="backup-rom-btn" data-lang="UPDATE_VANILLA_ROM">Update Vanilla ROM Backup</button>
                <p style="margin-top: 15px;">
                    <span data-lang="GAME_ROM_DIR">Game ROM Directory:</span> 
                    <div id="game-dir-container" class="path-container">
                        <span class="placeholder-text" data-lang="CLICK_TO_SHOW_PATH">[Click to show path]</span>
                        <code id="game-dir-display" data-lang-default="NOT_SET">Not set</code>
                        <span class="eye-icon">üëÅÔ∏è</span>
                    </div>
                </p>
            </div>
            <div class="card">
                <h2 data-lang="CONTROLS">Controls</h2>
                <button id="add-mod-btn" class="primary" data-lang="ADD_MOD">Add Mod (.slp)</button>
                <button id="launch-game-btn" data-lang="LAUNCH_GAME">Launch Stormworks</button>
            </div>
            <div class="card">
                <h2 data-lang="PLAYLISTS">Playlists</h2>
                <div class="playlist-controls">
                    <select id="playlist-select"></select>
                    <button id="load-playlist-btn" data-lang="LOAD_PLAYLIST">Load</button>
                    <button id="rename-playlist-btn" data-lang="RENAME_PLAYLIST">Rename</button>
                    <button id="delete-playlist-btn" class="danger" data-lang="DELETE_PLAYLIST">Delete</button>
                </div>
                <div class="playlist-controls" style="margin-top: 15px;">
                    <button id="overwrite-playlist-btn" data-lang="OVERWRITE_PLAYLIST">Overwrite Selected Playlist</button>
                </div>
                <div class="playlist-controls" style="margin-top: 15px;">
                    <input type="text" id="new-playlist-name" data-lang-placeholder="NEW_PLAYLIST_NAME" placeholder="New playlist name">
                    <button id="save-playlist-btn" data-lang="SAVE_AS_NEW_PLAYLIST">Save as...</button>
                </div>
            </div>
        </div>
    </div>
    <script src="./src/renderer/renderer.js" type="module"></script>
</body>
</html>